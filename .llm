# Seamless Project Guidelines

## Testing Best Practices

### 1. Inline Declarations (The "Inline" Rule)
**Principle**: Tests should be self-contained and readable from top to bottom. Avoid shared state or "reusable" selection logic within test files.

**Do:**
- Query elements directly inside your `expect` assertions.
- Use `screen.getBy*` inline.
- Keep tests independent.

**Don't:**
- Declare `let element;` at the top of a `describe` block.
- Use `beforeEach` to assign DOM elements to variables.

**Example:**
```tsx
// ✅ Correct
test("renders input", () => {
   render(<Input />);
   expect(screen.getByRole("textbox")).toBeInTheDocument();
});

// ❌ Avoid
describe("Input", () => {
   let textbox;
   beforeEach(() => {
      render(<Input />);
      textbox = screen.getByRole("textbox");
   });
   test("renders", () => {
      expect(textbox).toBeInTheDocument();
   });
});
```

### 2. Inline Mock Data
**Principle**: Tests should be readable without scrolling up to find variable definitions. Define mock data directly inside the `render` call or test function.

**Do:**
```tsx
test("renders options", () => {
   render(
      <Dropdown
         options={[{ label: "A", value: "a" }]}
         // ...
      />
   );
});
```

**Don't:**
```tsx
const options = [{ label: "A", value: "a" }]; // Defined outside
test("renders options", () => {
   render(<Dropdown options={options} />);
});
```

### 3. A11y First Queries
**Principle**: Tests should mimic how a user (including screen readers) interacts with the application. Prefer role-based queries over text or class lookups.

**Do:**
- `screen.getByRole("button", { name: "Submit" })`
- `screen.getByRole("option", { name: "Option 1" })`

**Don't:**
- `screen.getByText("Submit")` (less precise)
- `container.querySelector(".btn-primary")` (avoid implementation details)

